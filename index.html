<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOFBOT Pro Manual Control (Real Classification)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;800&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #111827; color: #f3f4f6; }
        .code-font { font-family: 'JetBrains Mono', monospace; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #374151; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #4b5563; }

        /* Robot Arm Animation */
        .robot-base {
            transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.2, 1), height 0.5s ease;
            transform-origin: center bottom; 
        }
        
        /* Idle Animation (Breathing) */
        @keyframes idle-breathe {
            0%, 100% { height: 40%; }
            50% { height: 41%; }
        }
        
        .robot-idle {
            animation: idle-breathe 3s infinite ease-in-out;
        }
        
        /* Zones */
        .zone-highlight {
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
            border: 2px solid rgba(255,255,255,0.1);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            overflow: hidden; 
        }
        
        .zone-active {
            transform: scale(1.1);
            box-shadow: 0 0 30px currentColor;
            border-color: currentColor;
            z-index: 50;
        }

        /* Background Image Main */
        .bg-custom-image {
            background-image: url('image_01f283.jpg'); 
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        /* Zone Backgrounds */
        .bg-zone-1 { background-image: url('image_01fe1c.jpg'); } 
        .bg-zone-2 { background-image: url('image_02095d.png'); } 
        .bg-zone-3 { background-image: url('image_0208e5.png'); } 
        .bg-zone-4 { background-image: url('image_020920.png'); } 

        .bg-overlay {
            background: radial-gradient(circle, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.7) 100%);
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <!-- Header -->
    <header class="bg-gray-800 border-b border-gray-700 z-50 flex-none">
        <div class="max-w-full mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="bg-blue-600 p-2 rounded-lg">
                    <i data-lucide="gamepad-2" class="w-5 h-5 text-white"></i>
                </div>
                <div>
                    <h1 class="text-lg font-bold tracking-tight text-white">DOFBOT Pro <span class="text-blue-400">Manual Control</span></h1>
                    <p class="text-[10px] text-gray-400 code-font">v3.6.0 | Local Only (No AI)</p>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center bg-gray-900 px-3 py-1.5 rounded border border-gray-600">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                    <span class="text-xs font-mono text-gray-300">Status: <span id="status-text" class="text-blue-400">OBSERVING</span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="flex flex-grow overflow-hidden">
        
        <!-- Left Panel: Controls (Scrollable) -->
        <div class="w-96 flex-none bg-gray-800 border-r border-gray-700 flex flex-col shadow-2xl z-10">
            <nav class="flex flex-col space-y-1 p-2 sticky top-0 bg-gray-800 z-20 border-b border-gray-700 mb-2">
                
                <div class="pb-2 mb-2 border-b border-gray-700">
                    <p class="px-4 text-[10px] uppercase text-gray-500 font-bold tracking-wider mb-2">Simulation</p>
                    <button onclick="switchTab('zones')" id="btn-zones" class="nav-btn flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors bg-green-500/10 text-green-400 border-l-4 border-green-500 w-full text-left">
                        <i data-lucide="gamepad-2" class="w-5 h-5 text-green-400"></i>
                        <span class="text-green-400">Manual Control</span>
                    </button>
                </div>

                <div class="pb-2 mb-2">
                    <p class="px-4 text-[10px] uppercase text-gray-500 font-bold tracking-wider mb-2">Analysis</p>
                    <button onclick="switchTab('overview')" id="btn-overview" class="nav-btn flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors text-gray-400 w-full text-left">
                        <i data-lucide="layout-grid" class="w-5 h-5"></i>
                        <span>Architecture</span>
                    </button>
                    <button onclick="switchTab('logic')" id="btn-logic" class="nav-btn flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors text-gray-400 w-full text-left">
                        <i data-lucide="tag" class="w-5 h-5"></i>
                        <span>Taxonomy</span>
                    </button>
                </div>
            </nav>
            
            <div id="sidebar-content-zones" class="flex-grow overflow-y-auto p-4 space-y-8 custom-scrollbar tab-sidebar">
                
                <!-- POS 1: RECYCLABLE WASTE (Green) -->
                <div class="bg-gray-900/50 p-3 rounded-xl border border-green-900/30">
                    <div class="flex items-center justify-between mb-3 border-b border-green-900/30 pb-2">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded bg-cover bg-center mr-2 border border-gray-600" style="background-image: url('image_01fe1c.jpg');"></div>
                            <span class="text-xs font-bold text-green-400 uppercase font-mono">recyclable_waste</span>
                        </div>
                        <span class="text-[10px] bg-green-900/30 text-green-300 px-2 py-0.5 rounded font-mono">140¬∞</span>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="simulateMove('Newspaper', 'recycle', 2, 140)" class="p-2 bg-gray-800 hover:bg-green-900/40 border border-gray-700 hover:border-green-500 rounded text-left group transition-all">
                            <span class="text-lg">üì∞</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Newspaper (ID:2)</span>
                        </button>
                        <button onclick="simulateMove('Zip_top_can', 'recycle', 3, 140)" class="p-2 bg-gray-800 hover:bg-green-900/40 border border-gray-700 hover:border-green-500 rounded text-left group transition-all">
                            <span class="text-lg">ü•§</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Zip_top_can (ID:3)</span>
                        </button>
                        <button onclick="simulateMove('Book', 'recycle', 4, 140)" class="p-2 bg-gray-800 hover:bg-green-900/40 border border-gray-700 hover:border-green-500 rounded text-left group transition-all">
                            <span class="text-lg">üìò</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Book (ID:4)</span>
                        </button>
                        <button onclick="simulateMove('Old_school_bag', 'recycle', 5, 140)" class="p-2 bg-gray-800 hover:bg-green-900/40 border border-gray-700 hover:border-green-500 rounded text-left group transition-all">
                            <span class="text-lg">üéí</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Old_school_bag (ID:5)</span>
                        </button>
                    </div>
                </div>

                <!-- POS 2: DRY WASTE (Gray) -->
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-700/30">
                    <div class="flex items-center justify-between mb-3 border-b border-gray-700/30 pb-2">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded bg-cover bg-center mr-2 border border-gray-600" style="background-image: url('image_02095d.png');"></div>
                            <span class="text-xs font-bold text-gray-400 uppercase font-mono">dry_waste</span>
                        </div>
                        <span class="text-[10px] bg-gray-700 text-gray-300 px-2 py-0.5 rounded font-mono">12¬∞</span>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="simulateMove('Toilet_paper', 'dry', 14, 12)" class="p-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-400 rounded text-left group transition-all">
                            <span class="text-lg">üßª</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Toilet_paper (ID:14)</span>
                        </button>
                        <button onclick="simulateMove('Disposable_chopsticks', 'dry', 15, 12)" class="p-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-400 rounded text-left group transition-all">
                            <span class="text-lg">ü•¢</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Disposable_... (ID:15)</span>
                        </button>
                        <button onclick="simulateMove('Cigarette_butts', 'dry', 16, 12)" class="p-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-400 rounded text-left group transition-all">
                            <span class="text-lg">üö¨</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Cigarette_butts (ID:16)</span>
                        </button>
                        <button onclick="simulateMove('Peach_pit', 'dry', 17, 12)" class="p-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-400 rounded text-left group transition-all">
                            <span class="text-lg">üçë</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Peach_pit (ID:17)</span>
                        </button>
                    </div>
                </div>

                <!-- POS 3: TOXIC WASTE (Red) -->
                <div class="bg-gray-900/50 p-3 rounded-xl border border-red-900/30">
                    <div class="flex items-center justify-between mb-3 border-b border-red-900/30 pb-2">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded bg-cover bg-center mr-2 border border-gray-600" style="background-image: url('image_0208e5.png');"></div>
                            <span class="text-xs font-bold text-red-400 uppercase font-mono">toxic_waste</span>
                        </div>
                        <span class="text-[10px] bg-red-900/30 text-red-300 px-2 py-0.5 rounded font-mono">38¬∞</span>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="simulateMove('Syringe', 'toxic', 10, 38)" class="p-2 bg-gray-800 hover:bg-red-900/40 border border-gray-700 hover:border-red-500 rounded text-left group transition-all">
                            <span class="text-lg">üíâ</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Syringe (ID:10)</span>
                        </button>
                        <button onclick="simulateMove('Expired_cosmetics', 'toxic', 11, 38)" class="p-2 bg-gray-800 hover:bg-red-900/40 border border-gray-700 hover:border-red-500 rounded text-left group transition-all">
                            <span class="text-lg">üíÑ</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Expired_cos... (ID:11)</span>
                        </button>
                        <button onclick="simulateMove('Expired_tablets', 'toxic', 12, 38)" class="p-2 bg-gray-800 hover:bg-red-900/40 border border-gray-700 hover:border-red-500 rounded text-left group transition-all">
                            <span class="text-lg">üíä</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Expired_tab... (ID:12)</span>
                        </button>
                        <button onclick="simulateMove('Used_batteries', 'toxic', 13, 38)" class="p-2 bg-gray-800 hover:bg-red-900/40 border border-gray-700 hover:border-red-500 rounded text-left group transition-all">
                            <span class="text-lg">üîã</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Used_batteries (ID:13)</span>
                        </button>
                    </div>
                </div>

                <!-- POS 4: WET WASTE (Blue) -->
                <div class="bg-gray-900/50 p-3 rounded-xl border border-blue-900/30">
                    <div class="flex items-center justify-between mb-3 border-b border-blue-900/30 pb-2">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded bg-cover bg-center mr-2 border border-gray-600" style="background-image: url('image_020920.png');"></div>
                            <span class="text-xs font-bold text-blue-400 uppercase font-mono">wet_waste</span>
                        </div>
                        <span class="text-[10px] bg-blue-900/30 text-blue-300 px-2 py-0.5 rounded font-mono">165¬∞</span>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="simulateMove('Fish_bone', 'wet', 6, 165)" class="p-2 bg-gray-800 hover:bg-blue-900/40 border border-gray-700 hover:border-blue-500 rounded text-left group transition-all">
                            <span class="text-lg">üêü</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Fish_bone (ID:6)</span>
                        </button>
                        <button onclick="simulateMove('Watermelon_rind', 'wet', 7, 165)" class="p-2 bg-gray-800 hover:bg-blue-900/40 border border-gray-700 hover:border-blue-500 rounded text-left group transition-all">
                            <span class="text-lg">üçâ</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Watermelon... (ID:7)</span>
                        </button>
                        <button onclick="simulateMove('Apple_core', 'wet', 8, 165)" class="p-2 bg-gray-800 hover:bg-blue-900/40 border border-gray-700 hover:border-blue-500 rounded text-left group transition-all">
                            <span class="text-lg">üçé</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Apple_core (ID:8)</span>
                        </button>
                        <button onclick="simulateMove('Egg_shell', 'wet', 9, 165)" class="p-2 bg-gray-800 hover:bg-blue-900/40 border border-gray-700 hover:border-blue-500 rounded text-left group transition-all">
                            <span class="text-lg">ü•ö</span> <span class="text-[10px] text-gray-400 group-hover:text-white font-mono block truncate">Egg_shell (ID:9)</span>
                        </button>
                    </div>
                </div>

            </div>
        </div>

        <!-- Right Panel: Main Content Area -->
        <div class="flex-grow relative bg-gray-900 overflow-hidden group">
            
            <!-- SECTION: ZONES (MANUAL CONTROL) -->
            <div id="tab-zones" class="tab-content h-full relative bg-black flex items-center justify-center bg-custom-image">
                <!-- Dark Overlay for Readability -->
                <div class="absolute inset-0 bg-overlay pointer-events-none group-hover:opacity-80 transition-opacity duration-500"></div>

                <!-- Visualization Container (Responsive) -->
                <div class="relative w-full h-full max-w-4xl flex items-center justify-center">
                    
                    <!-- Robot Base -->
                    <div class="absolute w-28 h-28 bg-gray-900 rounded-full border-4 border-gray-700 z-20 shadow-2xl flex items-center justify-center top-[70%]">
                        <div class="w-14 h-14 bg-blue-600 rounded-full border-2 border-white/20 animate-pulse shadow-[0_0_20px_rgba(37,99,235,0.5)]"></div>
                    </div>

                    <!-- Robot Arm -->
                    <div id="arm" class="robot-base robot-idle absolute w-10 h-[40%] bg-gradient-to-t from-gray-800 via-gray-600 to-blue-600 z-10 rounded-full shadow-xl border border-white/10 origin-bottom" 
                         style="top: 30%; left: 50%; transform: translateX(-50%) rotate(0deg);">
                        <!-- End Effector -->
                        <div class="absolute top-2 left-1/2 -translate-x-1/2 w-5 h-5 bg-white rounded-full shadow-lg flex items-center justify-center">
                            <div class="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                        </div>
                    </div>

                    <!-- === ZONES === -->
                    <!-- Pos 1: recyclable_waste -->
                    <div id="zone-recycle" class="zone-highlight bg-zone-1 absolute top-16 left-16 w-48 h-48 rounded-2xl flex flex-col items-center justify-center text-white border-green-500/50 shadow-lg group-hover:border-green-400 transition-all">
                        <div class="absolute inset-0 bg-black/40 rounded-2xl"></div>
                        <div class="relative z-10 flex flex-col items-center">
                            <span class="font-bold text-lg tracking-widest drop-shadow-md text-green-300 font-mono">recyclable</span>
                            <span class="text-xs bg-green-500/80 text-black px-2 rounded font-bold mt-1 font-mono">POS 1</span>
                        </div>
                    </div>

                    <!-- Pos 2: dry_waste -->
                    <div id="zone-dry" class="zone-highlight bg-zone-2 absolute top-16 right-16 w-48 h-48 rounded-2xl flex flex-col items-center justify-center text-white border-gray-500/50 shadow-lg group-hover:border-gray-400 transition-all">
                        <div class="absolute inset-0 bg-black/40 rounded-2xl"></div>
                        <div class="relative z-10 flex flex-col items-center">
                            <span class="font-bold text-lg tracking-widest drop-shadow-md text-gray-200 font-mono">dry_waste</span>
                            <span class="text-xs bg-gray-500/80 text-black px-2 rounded font-bold mt-1 font-mono">POS 2</span>
                        </div>
                    </div>

                    <!-- Pos 3: toxic_waste -->
                    <div id="zone-toxic" class="zone-highlight bg-zone-3 absolute bottom-16 left-16 w-48 h-48 rounded-2xl flex flex-col items-center justify-center text-white border-red-500/50 shadow-lg group-hover:border-red-400 transition-all">
                        <div class="absolute inset-0 bg-black/40 rounded-2xl"></div>
                        <div class="relative z-10 flex flex-col items-center">
                            <span class="font-bold text-lg tracking-widest drop-shadow-md text-red-300 font-mono">toxic_waste</span>
                            <span class="text-xs bg-red-500/80 text-black px-2 rounded font-bold mt-1 font-mono">POS 3</span>
                        </div>
                    </div>

                    <!-- Pos 4: wet_waste -->
                    <div id="zone-wet" class="zone-highlight bg-zone-4 absolute bottom-16 right-16 w-48 h-48 rounded-2xl flex flex-col items-center justify-center text-white border-blue-500/50 shadow-lg group-hover:border-blue-400 transition-all">
                        <div class="absolute inset-0 bg-black/40 rounded-2xl"></div>
                        <div class="relative z-10 flex flex-col items-center">
                            <span class="font-bold text-lg tracking-widest drop-shadow-md text-blue-300 font-mono">wet_waste</span>
                            <span class="text-xs bg-blue-500/80 text-black px-2 rounded font-bold mt-1 font-mono">POS 4</span>
                        </div>
                    </div>

                    <!-- Status Labels -->
                    <div id="object-label" class="absolute top-[60%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/90 text-white px-6 py-3 rounded-lg border border-gray-500 font-mono text-lg opacity-0 transition-opacity duration-300 pointer-events-none z-50 shadow-2xl flex flex-col items-center">
                        <span class="text-gray-400 text-xs uppercase mb-1">Detecting Object</span>
                        <span id="obj-name-display" class="font-bold text-yellow-400">...</span>
                    </div>

                    <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black/80 px-6 py-3 rounded-full border border-gray-700 backdrop-blur-md flex items-center space-x-6">
                        <div>
                            <div class="text-[10px] text-gray-400 uppercase">Servo Joint 1</div>
                            <div class="text-2xl font-bold font-mono text-white"><span id="servo-display">90</span>¬∞</div>
                        </div>
                        <div class="h-8 w-px bg-gray-700"></div>
                        <div>
                            <div class="text-[10px] text-gray-400 uppercase">Player ID</div>
                            <div class="text-2xl font-bold font-mono text-purple-400"><span id="id-display">--</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION: OVERVIEW -->
            <div id="tab-overview" class="tab-content p-8 hidden animate-fade-in overflow-y-auto h-full">
                <h2 class="text-2xl font-bold mb-6 flex items-center text-white">
                    <span class="bg-blue-500/10 text-blue-400 p-2 rounded-lg mr-3"><i data-lucide="share-2" class="w-6 h-6"></i></span>
                    System Data Flow (ROS 2)
                </h2>
                <div class="bg-gray-900/50 p-6 rounded-lg border border-gray-700 mb-8 overflow-x-auto">
                    <div class="flex flex-col md:flex-row items-center justify-between space-y-8 md:space-y-0 min-w-[800px]">
                        <!-- Node: Camera -->
                        <div class="node-card w-48 bg-gray-800 p-4 rounded-lg border border-gray-600 text-center relative group">
                            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-purple-600 text-xs px-2 py-1 rounded text-white">Sensor</div>
                            <i data-lucide="camera" class="w-8 h-8 mx-auto mb-2 text-purple-400"></i>
                            <h3 class="font-bold text-white">msgToimg.py</h3>
                            <p class="text-xs text-gray-400 mt-1">/camera/color/image_raw</p>
                            <!-- Arrow -->
                            <div class="hidden md:block absolute top-1/2 -right-12 w-12 h-0.5 bg-gray-600"></div>
                            <div class="hidden md:block absolute top-1/2 -right-12 transform -translate-y-1/2 text-[10px] text-gray-500 bg-gray-900 px-1">RGB</div>
                        </div>
                        <!-- Node: YOLO -->
                        <div class="node-card w-48 bg-gray-800 p-4 rounded-lg border border-gray-600 text-center relative">
                            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-600 text-xs px-2 py-1 rounded text-white">Inference</div>
                            <i data-lucide="scan-face" class="w-8 h-8 mx-auto mb-2 text-green-400"></i>
                            <h3 class="font-bold text-white">yolov11.py</h3>
                            <p class="text-xs text-gray-400 mt-1">Model: best.engine</p>
                             <!-- Arrow -->
                             <div class="hidden md:block absolute top-1/2 -right-12 w-12 h-0.5 bg-gray-600"></div>
                             <div class="hidden md:block absolute top-1/2 -right-12 transform -translate-y-1/2 text-[10px] text-gray-500 bg-gray-900 px-1">Box</div>
                        </div>
                        <!-- Node: Sortation -->
                        <div class="node-card w-48 bg-gray-800 p-4 rounded-lg border border-blue-500 text-center relative shadow-lg shadow-blue-900/20">
                            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-600 text-xs px-2 py-1 rounded animate-pulse text-white">Controller</div>
                            <i data-lucide="cpu" class="w-8 h-8 mx-auto mb-2 text-blue-400"></i>
                            <h3 class="font-bold text-white">yolov11_sortation.py</h3>
                            <p class="text-xs text-gray-400 mt-1">Core Logic</p>
                             <!-- Arrow -->
                             <div class="hidden md:block absolute top-1/2 -right-12 w-12 h-0.5 bg-gray-600"></div>
                             <div class="hidden md:block absolute top-1/2 -right-12 transform -translate-y-1/2 text-[10px] text-gray-500 bg-gray-900 px-1">Joints</div>
                        </div>
                        <!-- Node: Arm Driver -->
                        <div class="node-card w-48 bg-gray-800 p-4 rounded-lg border border-gray-600 text-center relative">
                            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-orange-600 text-xs px-2 py-1 rounded text-white">Actuator</div>
                            <i data-lucide="grab" class="w-8 h-8 mx-auto mb-2 text-orange-400"></i>
                            <h3 class="font-bold text-white">arm_driver.py</h3>
                            <p class="text-xs text-gray-400 mt-1">Hardware Interface</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION: LOGIC -->
            <div id="tab-logic" class="tab-content p-8 hidden animate-fade-in overflow-y-auto h-full">
                <h2 class="text-2xl font-bold mb-6 flex items-center text-white">
                    <span class="bg-orange-500/10 text-orange-400 p-2 rounded-lg mr-3"><i data-lucide="tag" class="w-6 h-6"></i></span>
                    Material Classification Taxonomy
                </h2>
                <div class="overflow-x-auto rounded-lg border border-gray-700">
                    <table class="min-w-full bg-gray-800 text-sm text-left">
                        <thead class="bg-gray-900 text-gray-400 uppercase font-mono text-xs">
                            <tr>
                                <th class="px-6 py-3">Category</th>
                                <th class="px-6 py-3">YOLO Labels</th>
                                <th class="px-6 py-3">Physical Action</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-700">
                            <tr>
                                <td class="px-6 py-4 text-green-400 font-bold">Recyclable</td>
                                <td class="px-6 py-4 text-gray-300">Zip_top_can, Newspaper, Book, Old_school_bag</td>
                                <td class="px-6 py-4 text-yellow-400">+45¬∞ (Servo 140)</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 text-red-400 font-bold">Toxic</td>
                                <td class="px-6 py-4 text-gray-300">Syringe, Used_batteries, Expired_tablets, Expired_cosmetics</td>
                                <td class="px-6 py-4 text-yellow-400">-45¬∞ (Servo 38)</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 text-blue-400 font-bold">Kitchen</td>
                                <td class="px-6 py-4 text-gray-300">Fish_bone, Apple_core, Egg_shell, Watermelon_rind</td>
                                <td class="px-6 py-4 text-yellow-400">+135¬∞ (Servo 165)</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 text-gray-400 font-bold">Other</td>
                                <td class="px-6 py-4 text-gray-300">Cigarette_butts, Toilet_paper, Peach_pit, Disposable_chopsticks</td>
                                <td class="px-6 py-4 text-yellow-400">-135¬∞ (Servo 12)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <script>
        function initIcons() { if (window.lucide) window.lucide.createIcons(); else setTimeout(initIcons, 50); }
        window.addEventListener('load', initIcons);

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById('tab-' + tabId).classList.remove('hidden');
            
            // Hide/Show sidebar controls for Zones tab only
            const sidebarZones = document.getElementById('sidebar-content-zones');
            if (tabId === 'zones') {
                if(sidebarZones) sidebarZones.classList.remove('hidden');
            } else {
                if(sidebarZones) sidebarZones.classList.add('hidden');
            }

            document.querySelectorAll('.nav-btn').forEach(el => {
                el.classList.remove('bg-gray-800', 'text-blue-400', 'font-semibold', 'border-l-4', 'border-blue-500', 'text-green-400', 'bg-green-500/10', 'border-green-500', 'text-purple-400', 'bg-purple-500/10', 'border-purple-500');
                el.classList.add('text-gray-400');
            });
            const btn = document.getElementById('btn-' + tabId);
            btn.classList.remove('text-gray-400');
            
            if (tabId === 'zones') btn.classList.add('bg-green-500/10', 'text-green-400', 'border-l-4', 'border-green-500');
            else if (tabId === 'logic') btn.classList.add('bg-gray-800', 'text-blue-400', 'font-semibold', 'border-l-4', 'border-blue-500'); // Reusing style
            else btn.classList.add('bg-gray-800', 'text-blue-400', 'font-semibold', 'border-l-4', 'border-blue-500');
        }

        // --- SIMULATION LOGIC ---
        function simulateMove(objName, zoneId, playerId, realServoAngle) {
            const arm = document.getElementById('arm');
            const label = document.getElementById('object-label');
            const objDisplay = document.getElementById('obj-name-display');
            const servoDisplay = document.getElementById('servo-display');
            const idDisplay = document.getElementById('id-display');
            const statusText = document.getElementById('status-text');
            
            // 1. Reset Zones & Stop Idle Animation
            document.querySelectorAll('.zone-highlight').forEach(el => el.classList.remove('zone-active'));
            arm.classList.remove('robot-idle'); 
            
            // 2. Pick Up Animation (Center)
            objDisplay.innerText = objName;
            label.style.opacity = '1';
            idDisplay.innerText = playerId;
            statusText.innerText = "GRIPPING...";
            statusText.className = "text-yellow-400";
            
            // Visual mapping logic
            let visualRot = 0;
            if (zoneId === 'recycle') visualRot = -45; // POS 1
            if (zoneId === 'dry') visualRot = 45; // POS 2
            if (zoneId === 'toxic') visualRot = -135; // POS 3
            if (zoneId === 'wet') visualRot = 135; // POS 4

            // Move arm to center first (Pick)
            arm.style.transform = `translateX(-50%) rotate(0deg)`;
            servoDisplay.innerText = "90";
            
            setTimeout(() => {
                // 3. Move to Zone
                arm.style.transform = `translateX(-50%) rotate(${visualRot}deg)`;
                servoDisplay.innerText = realServoAngle;
                statusText.innerText = `SORTING (${zoneId.toUpperCase()})`;
                statusText.className = "text-blue-400";
                
                // Highlight Zone
                const zone = document.getElementById('zone-' + zoneId);
                if (zone) zone.classList.add('zone-active');
                
                // Drop Item animation
                setTimeout(() => {
                    label.style.opacity = '0';
                    statusText.innerText = "OBSERVING";
                    statusText.className = "text-blue-400 font-bold";
                    
                    // Reset to Center & Restart Idle Animation
                    arm.style.transform = `translateX(-50%) rotate(0deg)`;
                    servoDisplay.innerText = "90";
                    setTimeout(() => {
                        zone.classList.remove('zone-active');
                        arm.classList.add('robot-idle'); 
                    }, 800);
                }, 1500);
                
            }, 1000);
        }
    </script>
</body>
</html>
